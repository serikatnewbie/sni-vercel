---
layout: ../layouts/AboutLayout.astro
title: "Achievements"
import rawContests from "@/data/ctftime/ctf_events.json" assert { type: "json" };

interface RawContest {
  place:        string;
  event:        string;
  href:         string;
  ratingPoints: string;
  ctfPoints:    string;
}

interface Contest {
  place:        string;
  event:        string;
  href:         string;
  ratingPoints: number;
  ctfPoints:    string;
  year:         number;
}

const rawList = rawContests as RawContest[];
const contests: Contest[] = rawList.map((c) => {
  const yearMatch = c.event.match(/\b(20\d{2})\b/);
  const year = yearMatch ? parseInt(yearMatch[1]) : 0;
  
  return {
    place:        c.place,
    event:        c.event,
    href:         c.href,
    ratingPoints: Number(c.ratingPoints),
    ctfPoints:    c.ctfPoints,
    year:         year,
  };
});

contests.sort((a, b) => (b.year || 0) - (a.year || 0));

const champions = contests.filter(contest => contest.place === "1");

const notablePlacements = contests.filter(contest => {
  const place = parseInt(contest.place);
  return place > 1 && place <= 10;
});

function getMedalEmoji(place: string): string {
  switch (place) {
    case "1": return "ðŸ¥‡";
    case "2": return "ðŸ¥ˆ";
    case "3": return "ðŸ¥‰";
    case "4": return "ðŸ…";
    default:  return "";
  }
}

function getCrownEmoji(place: string): string {
  return place === "1" ? "ðŸ‘‘" : "";
}

function getOrdinalSuffix(place: number): string {
  if (place % 100 >= 11 && place % 100 <= 13) {
    return "th";
  }
  switch (place % 10) {
    case 1: return "st";
    case 2: return "nd";
    case 3: return "rd";
    default: return "th";
  }
}
---

## ðŸ¥‡ Champions ðŸ‘‘
{champions.map(contest => (
  <div>
    {getMedalEmoji(contest.place)} {contest.event} ({contest.year}) {getCrownEmoji(contest.place)}
  </div>
))}

## ðŸ“ˆ Notable High Placements
{notablePlacements.map(contest => {
  const place = parseInt(contest.place);
  return (
    <div>
      {getMedalEmoji(contest.place)} {contest.event} ({contest.year})
      {place > 4 ? ` - ${place}${getOrdinalSuffix(place)} Place` : ""}
    </div>
  );
})}
<div>Finalist - CDDC Brainhack 2024</div>

## ðŸ‡®ðŸ‡© National Events
<div>Organizing SNI CTF 2024</div>
<div>ðŸ¥‡1st Place - COMPFEST 2024, University of Indonesia (SNI FLAKEITO) ðŸ‘‘</div>
<div>ðŸ¥ˆ2nd Place - COMPFEST 2024, University of Indonesia (SNI Tabibito)</div>
<div>ðŸ¥‡1st Place - IFEST 2024, Padjajaran University (SNI Tabibito) ðŸ‘‘</div>
<div>ðŸ¥‰3rd Place - IFEST 2024, Padjajaran University (SNI FLAKEITO)</div>
<div>ðŸ¥‡1st Place - National Cyber Week 2024, BINUS University (SNI Tabibito) ðŸ‘‘</div>
<div>ðŸ¥‰3rd Place - Cyber Jawara National 2024, CSIRT.id and IdNSA (SNI Tabibito)</div>